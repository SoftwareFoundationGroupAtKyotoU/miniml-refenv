let r: <int@!> = ref `{@! 0 } in
let x: <int->int@!> = `{@! fun (x:int@g1) ->
    ~{
      let () = r := `{@! x } in
      `{@g1 x }
    }
  } in
!r
